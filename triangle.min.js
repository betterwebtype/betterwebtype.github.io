

/*** cnvyr.min.js.gz ***/
var level;var attempt=-1;var score;var userTopScore=0;var outOf;var multiplier;var maxScore;var h=Math.max(document.documentElement.clientHeight,window.innerHeight||0);var levels=[{id:"01",iv:[1.2,500,18],cv:[1.45,500,18],piq:0,maxScore:10,font:"Georgia",fallbackFont:"Serif",instructions:"Adjust the line-height to what you think best matches other parameters.",parameters:[{id:"lh",name:"line-height",adjust:true,values:[1.2,1.8,0.05]},{id:"lw",name:"max-width",adjust:false},{id:"fs",name:"font-size",adjust:false}]},{id:"02",iv:[1.6,400,18],cv:[1.6,650,18],piq:1,maxScore:15,font:"Georgia",fallbackFont:"Serif",instructions:"Adjust the line width to what you think best matches other parameters.",parameters:[{id:"lh",name:"line-height",adjust:false},{id:"lw",name:"max-width",adjust:true,values:[300,750,10]},{id:"fs",name:"font-size",adjust:false}]},{id:"03",iv:[1.3,350,20],cv:[1.3,350,16],piq:2,maxScore:5,font:"Georgia",fallbackFont:"Serif",instructions:"Adjust the font size to what you think best matches other parameters.",parameters:[{id:"lh",name:"line-height",adjust:false,values:[0.95,2.2,0.05]},{id:"lw",name:"max-width",adjust:false,values:[100,1000,1]},{id:"fs",name:"font-size",adjust:true,values:[11,22,1]}]},{id:"04",iv:[2,650,20],cv:[1.5,650,20],piq:0,maxScore:10,font:"Georgia",fallbackFont:"Serif",instructions:"Adjust the line-height to what you think best matches other parameters.",parameters:[{id:"lh",name:"line-height",adjust:true,values:[1.3,2.2,0.05]},{id:"lw",name:"max-width",adjust:false,values:[100,1000,1]},{id:"fs",name:"font-size",adjust:false,values:[12,29,1]}]},{id:"05",iv:[1.35,750,16],cv:[1.35,500,16],piq:1,maxScore:15,font:"Georgia",fallbackFont:"Serif",instructions:"Adjust the line width to what you think best matches other parameters.",parameters:[{id:"lh",name:"line-height",adjust:false,values:[0.95,2.2,0.05]},{id:"lw",name:"max-width",adjust:true,values:[300,1000,10]},{id:"fs",name:"font-size",adjust:false,values:[12,29,1]}]},{id:"06",iv:[1.85,750,29],cv:[1.85,750,23],piq:2,maxScore:5,font:"Georgia",fallbackFont:"Serif",instructions:"Adjust the font size to what you think best matches other parameters.",parameters:[{id:"lh",name:"line-height",adjust:false,values:[0.95,2.2,0.05]},{id:"lw",name:"max-width",adjust:false,values:[100,1000,1]},{id:"fs",name:"font-size",adjust:true,values:[12,29,1]}]},{id:"07",iv:[1,800,22],cv:[1.65,800,22],piq:0,maxScore:10,font:"Merriweather",fallbackFont:"Serif",instructions:"Adjust the line-height to what you think best matches other parameters.",parameters:[{id:"lh",name:"line-height",adjust:true,values:[0.9,1.8,0.05]},{id:"lw",name:"max-width",adjust:false,values:[100,1000,1]},{id:"fs",name:"font-size",adjust:false,values:[12,29,1]}]},{id:"08",iv:[1.5,250,18],cv:[1.5,600,18],piq:1,maxScore:15,font:"Baskerville",fallbackFont:"Serif",instructions:"Adjust the line width to what you think best matches other parameters.",parameters:[{id:"lh",name:"line-height",adjust:false,values:[0.95,2.2,0.05]},{id:"lw",name:"max-width",adjust:true,values:[100,1000,10]},{id:"fs",name:"font-size",adjust:false,values:[12,29,1]}]},{id:"09",iv:[1.4,500,20],cv:[1.4,500,15],piq:2,maxScore:5,font:"Merriweather",fallbackFont:"Serif",instructions:"Adjust the font size to what you think best matches other parameters.",parameters:[{id:"lh",name:"line-height",adjust:false,values:[0.95,2.2,0.05]},{id:"lw",name:"max-width",adjust:false,values:[100,1000,1]},{id:"fs",name:"font-size",adjust:true,values:[10,24,1]}]},{id:"10",iv:[1.1,550,17],cv:[1.5,550,17],piq:0,maxScore:10,font:"Baskerville",fallbackFont:"Serif",instructions:"Adjust the line-height to what you think best matches other parameters.",parameters:[{id:"lh",name:"line-height",adjust:true,values:[0.9,2.1,0.05]},{id:"lw",name:"max-width",adjust:false,values:[100,1000,1]},{id:"fs",name:"font-size",adjust:false,values:[12,29,1]}]}];var numOfLevels=levels.length;function startGame(){score=0;outOf=0;level=-1;if(attempt==-1){$(".triangle-game").fadeOut();setTimeout(function(){$(".instructions").fadeIn()},1000);setTimeout(function(){$(".instructions .start").addClass("animated infinite pulse")},5000);attempt++}else{attempt++;$(".instructions").fadeOut();$("#userScore").html(score);setTimeout(function(){$(".outOf").html(outOf)},1200);$("#triangleBg").attr("stroke","#353D44").removeClass("glow");$("#triangle").attr("stroke","#F15D64");loadLevel()}}function loadLevel(){$("body").removeClass("hide-overflow");$("#next-level").fadeOut();$("#tryAgain").fadeOut();$(".book-msg").fadeOut();$(".form-triangle").fadeOut();setTimeout(function(){$(".score").fadeOut();$("#score").css("color","#fff");$(".tweet-score .btn-tweet").remove()},1200);$(".tweet-score").fadeOut();$(".slider").remove();$("text.fs, text.lw, text.lh").attr("opacity",0.4);level++;maxScore=levels[level].maxScore;$("#level-id").html(levels[level].id);$("#instructions").html(levels[level].instructions);$("#font").val(levels[level].font);var f=levels[level].iv[0];var d=levels[level].iv[1];
var e=levels[level].iv[2];var j=levels[level].font+", "+levels[level].fallbackFont;$(".result").css({"line-height":f+"rem",width:d+"px","font-size":e+"px","font-family":j});for(i=0;i<3;i++){var c;var g=levels[level].parameters[i].id;var b="#"+g;var a;if(g!="lh"){$(b).val(levels[level].iv[i]+"px")}else{$(b).val(levels[level].iv[i])}if(levels[level].parameters[i].adjust){multiplier=levels[level].parameters[i].values[2];$(b).after('<div class="slider slider-'+levels[level].parameters[i].id+'"></div>');c=levels[level].parameters[i].values;a=".slider-"+g;$(a).slider({value:levels[level].iv[i],min:c[0],max:c[1],step:c[2],change:function(l,k){if(level==0){$("#check").addClass("animated fadeInUpBig");$(".ui-slider-handle").removeClass("animated infinite pulse")}}})}if(level==0){$(".ui-slider-handle").addClass("animated infinite pulse")}}$(".slider-lh").slider({slide:function(k,l){$("#lh").val(l.value);$(".result").css("line-height",l.value)}});$(".slider-lw").slider({slide:function(k,l){$("#lw").val(l.value+"px");$(".result").css("width",l.value)}});$(".slider-fs").slider({slide:function(k,l){$("#fs").val(l.value+"px");$(".result").css("font-size",l.value)}});$(".level").fadeIn()}function checkScore(){$("body").addClass("hide-overflow");var u;var k=levels[level].piq;var n=levels[level].cv[k];var d=$(".slider").slider("option","value");var l=Math.abs(n-d);var s=Math.round((n-d)/multiplier);if(l/multiplier<maxScore){u=Math.round(maxScore-l/multiplier)}else{u=0}var f;var z;var p="#24D7D1";var a="#EAD079";var v="#F15D64";if(maxScore==5){if(maxScore-u==0){f="Perfect!";z=p}else{if(maxScore-u==1){f="Well done";z=p}else{if(maxScore-u==2){f="Not bad";z=a}else{if(maxScore-u==3){f="Could be better";z=a}else{if(maxScore-u==4){f="Way off";z=v}else{if(maxScore-u>=5){f="Not even close";z=v}}}}}}}else{if(maxScore==10||maxScore==15){if(maxScore-u==0){f="Perfect!";z=p}else{if(maxScore-u>=10){f="Way off!";z=v}else{if(maxScore-u>=7){f="Could be better";z=v}else{if(maxScore-u>=5){f="Not quite there";z=a}else{if(maxScore-u>=3){f="Not bad";z=a}else{if(maxScore-u>=1){f="Well done";z=p}}}}}}}}score=score+u;outOf=outOf+maxScore;$(".scoreMsg").html(f);setTimeout(function(){$("#userScore").html(score);$(".outOf").html(outOf)},1000);if(k==0){triangleResult=s/2*10}else{if(k==2){triangleResult=-(s*10)}else{triangleResult=(d-n)/2}}if(k==0||k==2){if(Math.abs(triangleResult)>60&&triangleResult<0){triangleResult=-60}else{if(triangleResult>60){triangleResult=60}}}else{if(Math.abs(triangleResult)>30&&triangleResult<0){triangleResult=-30}else{if(triangleResult>30){triangleResult=30}}}var y=document.getElementById("triangleAnimation");var x=document.getElementById("triangle");var B=levels[level].parameters[k].id;var A;var o=300+Math.abs(triangleResult)*10+"ms";x.setAttribute("points","150,23 207,111 93,111");$("text."+B).attr("opacity",1);if(triangleResult==0){y.setAttribute("to","150,23 207,111 93,111");setTimeout(function(){$("#triangleId").addClass("animated pulse2")},2000);setTimeout(function(){$("#triangleId").removeClass("animated pulse2")},3000)}else{if(k!=1){var q=150+triangleResult;setTimeout(function(){A=q+",23 207,111 93,111";y.setAttribute("to",A);y.setAttribute("dur",o);x.setAttribute("points",A)},2000)}else{var E=207+triangleResult;var D=93-triangleResult;setTimeout(function(){A="150, 23 "+E+",111 "+D+", 111";y.setAttribute("to",A);y.setAttribute("dur",o);x.setAttribute("points",A)},2000)}}setTimeout(function(){y.beginElement()},2000);$(".score h1").html("Level "+levels[level].id);$("#score").html("<span class='counter' data-count='"+u+"'>0</span>/"+maxScore).css("color",z);$(".score hr").show();var t=300+Math.abs(triangleResult)*10;function m(){$(".anim").removeClass("fadeOutUpBig").addClass("animated");setTimeout(function(){$(".counter").each(function(){var c=$(this),b=c.attr("data-count");$({countNum:c.text()}).animate({countNum:b},{duration:t,easing:"linear",step:function(){c.text(Math.floor(this.countNum))},complete:function(){c.text(this.countNum)}})})},2000)}$(".score").fadeIn();m();if(level<numOfLevels-1){setTimeout(function(){$("#next-level").fadeIn()},4000)}else{setTimeout(function(){$(".score-content").fadeOut()},4000);var e;var C;var g;if(score<=50){e="#CD7F32";z=v;C="Oops, you seem to be a";g="Type newbie"}else{if(score<=85){e="#E8E8E2";z=a;C="Not bad, you’re a";g="Type geek wannabe"}else{e="#FFC300";z=p;C="Well done you’re a";g="Proper type geek"}}var w;if(varEmail!=null){w="<table><tbody><tr><td><img src='assets/images/better-web-type-book-cover-small-retina.jpg' width='119'></td><td><h2>The <span>Better Web Type</span> book is&nbsp;here!</h2><p><em><a href='https://betterwebtype.com/web-typography-book'>Get your copy</a> and learn what typography is, why it’s important and how to get it right on your websites.</em></p></td></tr></tbody></table>"}else{w="<img src='assets/images/better-web-type-course-small.png' width='157' class='course-image'><h2 class='align-center'>Learn about web typography <br><span>start the free course</span></h2><p class='align-center'><em>Better Web Type is a free web typography course for web designers and developers. Learn about modular scales, vertical rhythm and more in 7, easy-to-digest lessons.</em></p><br><a href='/' class='button floatCenter align-center'>Check it out</a>"
}setTimeout(function(){x.setAttribute("points","150,23 207,111 93,111");y.setAttribute("to","150,23 207,111 93,111");$(".score hr").hide();$("#triangleBg").attr("stroke",e).addClass("glow");$("#triangle").attr("stroke",e);$("svg text").attr("opacity",0);$(".score-content h1").html(C);$(".scoreMsg").html(g);$("#score").html("<span class='counter' data-count='"+score+"'>0</span>/"+outOf).css("color",z);$("#final-score").html(score);$(".outOf").html(outOf);$(".score-content").show();$(".book-msg").html(w);m()},4500);var j="<a href='https://twitter.com/intent/tweet?url=https%3A%2F%2Fbetterwebtype.com%2Ftriangle&via=matejlatin&text=I%20scored%20"+score+"/"+outOf+"%20in%20the%20Perfect%20Paragraph%20game.%20Can%20you%20do%20better%20than%20me%3F%20&hashtags=BetterWebType' class='btn-tweet floatCenter' target='_blank'>Tweet this</a>";setTimeout(function(){$("#tryAgain").fadeIn()},8000);setTimeout(function(){$(".book-msg").fadeIn()},8500);if(score>userTopScore){userTopScore=score}$("#ATTEMPT").val(attempt);$("#TOPSCORE").val(userTopScore);if(varEmail!=null){setTimeout(function(){$("#theForm").submit()},8500)}}}$(".start").click(function(a){a.preventDefault();startGame();return false});$("#tryAgain").click(function(a){a.preventDefault();$(".anim").addClass("animated fadeOutUpBig");startGame();return false});$("#check").click(function(a){a.preventDefault();checkScore();return false});$("#next-level").click(function(a){a.preventDefault();$(".anim").addClass("animated fadeOutUpBig");loadLevel();return false});$(".score").on("scroll",function(){$(".arrow").fadeOut()});